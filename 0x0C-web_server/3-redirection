#!/usr/bin/env bash

# 1. Install Nginx web server (assuming you have a script named 1-install_nginx_web_server.sh)
# (Make sure the script 1-install_nginx_web_server.sh is present in the same directory)
./1-install_nginx_web_server.sh

# 2. Create a new Nginx configuration file for redirection
cat <<EOL > /etc/nginx/sites-available/3-redirection
server {
    listen 80;
    server_name localhost;

    location /redirect_me {
        return 301 https://www.example.com/new_page;
    }

    # Add any other server configurations as needed
    # ...

    # Additional server blocks can be added if necessary
}
EOL

# 3. Create a symbolic link to enable the new site
ln -s /etc/nginx/sites-available/3-redirection /etc/nginx/sites-enabled/

# 4. Test Nginx configuration
nginx -t

# 5. Restart Nginx to apply changes
systemctl restart nginx
